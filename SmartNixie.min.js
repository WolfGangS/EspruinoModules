function e(a,c){this.ser=a;this.digits=c;this.data=new Uint8Array(5*c);for(j=0;j<c;j++)this.data[5*j+1]=127}exports.connect=function(a,c){return new e(a,c)};e.prototype.setTube=function(a,c,b,d,e,f,g,h){this.data[5*a]=16*b+32*d+c;this.data[5*a+1]=e;this.setLED(a,f,g,h)};e.prototype.setAllBright=function(a){for(k=0;k<this.digits;k++)this.data[5*k+1]=a};e.prototype.setBright=function(a,c){this.data[5*a+1]=c};e.prototype.setLED=function(a,c,b,d){this.data[5*a+2]=c;this.data[5*a+3]=b;this.data[5*
a+4]=d};e.prototype.setAllLED=function(a,c,b){for(k=0;k<this.digits;k++)this.data[5*k+2]=a,this.data[5*k+3]=c,this.data[5*k+4]=b};e.prototype.setString=function(a){var c=0,b=0;for(k=0;k<this.digits;k++)this.data[5*k]=15;for(;b<this.digits&&c<a.length;){switch(a.charAt(c)){case ".":this.data[5*b]|=16;break;case ",":this.data[5*b]|=32;break;case " ":this.data[5*b]|=10;b++;break;default:this.data[5*b]=(this.data[5*b]&240)+parseInt(a.charAt(c)),b++}c++}};e.prototype.send=function(){var a="";for(i=0;i<
this.digits;i++)a=this.getString(i)+a;this.ser.write(a+"!")};e.prototype.getString=function(a){var c=this.data,b="$",b=10>(c[5*a]&15)?b+(c[5*a]&15):b+"-",b=c[5*a]&16?b+",Y":b+",N",b=c[5*a]&32?b+",Y":b+",N";for(x=1;5>x;x++){var d=c[5*a+x],d=d.toFixed(0);switch(d.length){case 1:d="00"+d;break;case 2:d="0"+d}b+=","+d}return b}