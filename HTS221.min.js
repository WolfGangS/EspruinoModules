function d(c,a){this.i2c=c;this.debugMode=a;this.w(b.CTRL_REG1_ADDRESS,b.PD_ACTIVE_MODE|b.BDU_NOT_CONTINUOUS_UPDATE|b.ODR_ONE_HZ);this.w(b.CTRL_AV_CONF,b.AVGT_DEFAULT)}var b={HTS221_I2C_SLAVE_ADDRESS:95,CTRL_WHO_AM_I_ADDRESS:15,CTRL_AV_CONF:16,CTRL_REG1_ADDRESS:32,PD_ACTIVE_MODE:128,PD_POWER_DOWN_MODE:0,BDU_CONTINUOUS_UPDATE:0,BDU_NOT_CONTINUOUS_UPDATE:4,ODR_ONE_SHOT:0,ODR_ONE_HZ:1,ODR_SEVEN_HZ:2,ODR_TWELVE_DOT_FIVE_HZ:3,AVGT_DEFAULT:27,DATA_TEMP_OUT_L:42,DATA_TEMP_OUT_H:43};exports.connect=
function(c,a){return new d(c,a)};d.prototype.ObtainCalibratedTemperatureCoefficient=function(c){var a=this.r(50,2);c=a[0]&255;var a=a[1]&255,b=this.r(53,1)[0]&15;this.T0_degC=(256*(b&3)+c)/8;this.T1_degC=(64*(b&12)+a)/8;var b=this.r(60,1)[0]&255,d=this.r(61,1)[0]&255,f=this.r(62,1)[0]&255,g=this.r(63,1)[0]&255;this.T0_OUT=256*d+b;32767<this.T0_OUT&&(this.T0_OUT-=65536,console.log("this.T0_OUT is negative"));this.T1_OUT=256*g+f;32767<this.T1_OUT&&(this.T1_OUT-=65536,console.log("this.T1_OUT is negative"));
this.debugMode&&(console.log(" HTS221 debug : T0_degC_x8_32 = "+c),console.log(" HTS221 debug : T1_degC_x8_33 = "+a),console.log(" HTS221 debug :  this.T0_degC = "+this.T0_degC),console.log(" HTS221 debug :  this.T1_degC = "+this.T1_degC),console.log(" HTS221 debug :  this.T0_OUT = "+this.T0_OUT),console.log(" HTS221 debug :  this.T1_OUT = "+this.T1_OUT))};d.prototype.getTemperature=function(c){var a=this.r(b.DATA_TEMP_OUT_L,1),d=a[0]&255,e=this.r(b.DATA_TEMP_OUT_H,1);this.T_OUT=256*(e[0]&255)+d;
32767<this.T_OUT&&(this.T_OUT-=65536);d=(this.T1_degC-this.T0_degC)*(this.T_OUT-this.T0_OUT)/(this.T1_OUT-this.T0_OUT)+this.T0_degC;this.debugMode&&(console.log(" HTS221 debug : DATA_TEMP_OUT_L="+a),console.log(" HTS221 debug : DATA_TEMP_OUT_H="+e),console.log(" HTS221 debug : temperature in Celsius is "+d));c(d)};d.prototype.r=function(c,a){this.debugMode&&console.log(" HTS221 debug : read "+a+" bytes at address "+c);this.i2c.writeTo({address:b.HTS221_I2C_SLAVE_ADDRESS,stop:!1},128|c);return this.i2c.readFrom(b.HTS221_I2C_SLAVE_ADDRESS,
a)};d.prototype.w=function(c,a){this.debugMode&&console.log(" HTS221 debug : write "+a+" at address "+c);this.i2c.writeTo(b.HTS221_I2C_SLAVE_ADDRESS,c,a)}