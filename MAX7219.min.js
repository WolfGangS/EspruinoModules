exports.connect=function(c,b,a){a=a||1;c.write({data:[15,0],count:a},b);c.write({data:[10,15],count:a},b);c.write({data:[11,7],count:a},b);c.write({data:[12,0],count:a},b);return{set:function(a){c.write([9,255],b);a="        "+a;8<a.length&&(a=a.substr(a.length-8));for(var d=0;8>d;d++)c.write([8-d,"0123456789-EHLP ".indexOf(a[d])],b);c.write([12,1],b)},raw:function(e){c.write({data:[9,0],count:a},b);for(var d=0;8>d;d++){digitalWrite(b,0);for(var f=a-1;0<=f;f--)c.write([8-d,e[f+d*a]]);
digitalWrite(b,1)}c.write({data:[12,1],count:a},b)},off:function(){c.write({data:[12,0],count:a},b)},on:function(){c.write({data:[12,1],count:a},b)},intensity:function(e){c.write({data:[10,E.clip(15*e,0,15)],count:a},b)},displayTest:function(e){c.write({data:[15,!0===e],count:a},b)},scanLimit:function(e){c.write({data:[11,e-1],count:a},b)}}}