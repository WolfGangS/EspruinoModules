exports.connect=function(f,g){var b={line:""};f.on("data",function(c){b.line+=c;for(c=b.line.indexOf("\n");0<=c;){var a=b.line.substr(0,c);b.line=b.line.substr(c+1);c=g;if("GGA"==a.substr(3,3)){var a=a.split(","),d=a[2].indexOf("."),e=a[4].indexOf(".");c({time:a[1].substr(0,2)+":"+a[1].substr(2,2)+":"+a[1].substr(4,2),lat:(parseInt(a[2].substr(0,d-2),10)+parseFloat(a[2].substr(d-2))/60)*("S"==a[3]?-1:1),lon:(parseInt(a[4].substr(0,e-2),10)+parseFloat(a[4].substr(e-2))/60)*("W"==a[5]?-1:
1),fix:parseInt(a[6],10),satellites:parseInt(a[7],10),altitude:parseFloat(a[9])})}c=b.line.indexOf("\n")}80<b.line.length&&(b.line=b.line.substr(-80))});return b}