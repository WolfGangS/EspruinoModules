function f(c,b,d){uartOptions={bytesize:8,parity:"none",stopbits:1,rx:b};this.buf="";this.serial=c;this.serial.setup(d,uartOptions);c=function(b){return function(a){b.tgamReceive(a)}}(this);this.serial.on("data",c)}f.prototype.tgamReceive=function(c){for(this.buf+=c;0<this.buf.length&&170!=this.buf.charCodeAt(0);)this.buf=this.buf.substr(1);if(!(2>this.buf.length))if(170!=this.buf.charCodeAt(1))this.buf="";else{for(;170==this.buf.charCodeAt(2);)this.buf=this.buf.substr(1);if(!(4>this.buf.length)){var b=
this.buf.charCodeAt(2);if(170<b)this.buf="";else if(!(this.buf.length<b+4)){var d=this.buf.charCodeAt(b+3),e=0;c=new ArrayBuffer(b);for(var a=0;a<b;a++)c[a]=this.buf.charCodeAt(3+a),e+=c[a];this.buf="";if((e&255^255)==d){b=0;for(e=[];b<c.length;){for(a=0;85==c[b];)a+=256,b++;a|=c[b];b++;d=1;128<=(a&255)&&(d=c[b],b++);if(2<=a&&7>=a)e.push({field:"poorSignal heart attention meditation raw marker".split(" ")[a-2],value:c[b]});else if(131==a)for(a=0;8>a;a++)e.push({field:"delta theta lowAlpha highAlpha lowBeta highBeta lowGamma midGamma".split(" ")[a],
value:16384*c[b+3*a]+256*c[b+3*a+1]+c[b+3*a+2]});else e.push({field:a.toString(16),ptr:b,vlen:d});b+=d}for(a=0;a<e.length;a++)this.emit("data",e[a])}}}}};exports.connect=function(c,b,d){return new f(c,b,d)}